!function(t){"function"==typeof define&&define.amd?define("scripts",t):t()}(function(){"use strict";function u(t){if("undefined"==typeof window)return new Buffer(t,"base64").toString("utf-8");if(void 0!==window.atob)return decodeURIComponent(escape(window.atob(t)));var e,n,i,o,a,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",r=0,d=0,l="",c=[];if(!t)return t;for(t+="";e=(a=s.indexOf(t.charAt(r++))<<18|s.indexOf(t.charAt(r++))<<12|(i=s.indexOf(t.charAt(r++)))<<6|(o=s.indexOf(t.charAt(r++))))>>16&255,n=a>>8&255,a=255&a,c[d++]=64===i?String.fromCharCode(e):64===o?String.fromCharCode(e,n):String.fromCharCode(e,n,a),r<t.length;);return l=c.join(""),decodeURIComponent(escape(l.replace(/\0+$/,"")))}function h(t,e,n){var i=n?((i=new Date).setTime(i.getTime()+24*n*60*60*1e3),"; expires="+i.toGMTString()):"";document.cookie=encodeURIComponent(t)+"="+encodeURIComponent(e)+i+"; path=/"}jQuery(function(c){var t,e=c(window).width(),n=c(".mob-hamburger"),i=c("#site-navigation"),o=c("#header_menu"),a=c("#top_menu"),s=c(".widget-mobile-menu ul"),a=a.clone(),s=s.clone();function r(){c(".top-menu .menu-item .sub-menu, .main-navigation .menu-item .sub-menu, .sidebar-navigation .menu-item .sub-menu").slideUp(200)}function d(){c(".entry-content iframe, .responsive-iframe iframe").each(function(){var t,e,n;c(this).parents(".not-responsive").length||c(this).width()<=c(this).parent().width()||(n=c(this).width(),t=c(this).height(),n=(e=c(this).parent().width())/n,n=Math.round(t*n),c(this).css({width:e,height:n}))})}a.find("li").addClass("only-hamburger"),s.find("li").addClass("only-hamburger"),n.on("click",function(){n.toggleClass("active"),i.slideToggle()}),"undefined"!=typeof fixed_main_menu&&"yes"===fixed_main_menu&&(c("#site-navigation").clone().attr("id","").addClass("site-navigation-fixed").appendTo("body"),c(window).on("scroll",function(){c(this).scrollTop()>c(".site-header").outerHeight()&&974<c(window).width()?(c(".site-navigation-fixed").show(),c(".site-navigation-fixed").css("width",c("#site-navigation").outerWidth()),c(".site-navigation-fixed").css("left",c("#site-navigation").offset().left)):c(".site-navigation-fixed").hide()}),c(window).on("resize",function(){c(".site-navigation-fixed").is(":visible")&&(c(".site-navigation-fixed").css("width",c("#site-navigation").outerWidth()),c(".site-navigation-fixed").css("left",c("#site-navigation").offset().left))})),991<e&&(c(".top-menu .menu-item a, .top-menu .menu-item .removed-link, .main-navigation .menu-item a, .main-navigation .menu-item .removed-link").on("mouseenter",function(){c(this).parent().parent().find(".sub-menu:visible").hide(),c(this).parent().find(".sub-menu:first").show(),clearTimeout(t)}),c(".top-menu, .main-navigation").on({mouseenter:function(){clearTimeout(t)},mouseleave:function(){t=setTimeout(r,400)}})),e<=991&&(c("#site-navigation").on("click",".menu-item-has-children",function(t){"A"!==t.target.nodeName&&"a"!==t.target.nodeName&&(t.stopPropagation(),c(this).toggleClass("open"),c(this).find(".sub-menu:first").slideToggle())}),c("#footer_menu").on("click",".menu-item-has-children",function(t){"A"!==t.target.nodeName&&"a"!==t.target.nodeName&&(t.stopPropagation(),c(this).toggleClass("open"),c(this).find(".sub-menu:first").slideToggle())})),c(".sidebar-navigation").on("click",".menu-item-has-children",function(t){"A"!==t.target.nodeName&&"a"!==t.target.nodeName&&(t.stopPropagation(),c(this).toggleClass("open"),c(this).find(".sub-menu:first").slideToggle())}),"undefined"!=typeof top_menu_mobile_position&&"bottom"===top_menu_mobile_position?o.append(a.html()):o.prepend(a.html()),o.append(s.html()),c(document).on("click",".js-table-of-contents-hide",function(){var t=c(this).parents(".table-of-contents");t.toggleClass("open"),t.hasClass("open")?(h("wpshop_toc_hide","",-1),c(".js-table-of-contents-list").slideDown()):(h("wpshop_toc_hide","hide"),c(".js-table-of-contents-list").slideUp())}),c(document).on("click",'.table-of-contents a[href*="#"]',function(t){c("html,body").stop().animate({scrollTop:c(this.hash).offset().top-100},500),t.preventDefault()}),1==settings_array.lightbox_enabled&&(c(".entry-content").find("a:has(img)").wpshoplightbox(),c(document).find("a:has(img.lightbox-open)").wpshoplightbox()),c(".entry-content table").wrap(c("<div class='table-responsive' />")),c(".js-spoiler-box-title").on("click",function(){c(this).toggleClass("active").next().slideToggle()}),console.log(window.location.hash),c("body").hasClass("single-paged")&&!window.location.hash&&(s=c("#main").offset().top,c("html,body").animate({scrollTop:s},800)),jQuery(document).on("click",".js-link",function(t){var e=jQuery(this).data("href");"http"===e.substring(0,4)||"viber"===e.substring(0,5)||"http"===(n=u(e)).substring(0,4)&&(e=n);var n="self";"blank"!==jQuery(this).data("target")&&"_blank"!==jQuery(this).data("target")&&"blank"!==jQuery(this).attr("target")&&"_blank"!==jQuery(this).attr("target")||(n="blank"),"blank"===n?window.open(e):document.location.href=e}),c(".js-share-link").on("click",function(){var t,e,n;c(this).hasClass("js-share-link-no-window")?window.location.href=c(this).data("uri"):(t=c(this).data("uri"),e=(screen.height-436)/2,n=(screen.width-626)/2,e<0&&(e=0),n<0&&(n=0),n="top="+e+",left="+n,n+=",height=436,width=626,resizable=no",open(t,"displayWindow",n))}),c(".ps-link").on("click",function(){var t=u(c(this).data("uri"));window.open(t)}),c(document).on("click",".js-star-rating-item",function(){var i=c(this),o=i.parent(),a=i.data("score"),t=o.data("post-id"),s=o.data("rating-count"),r=o.data("rating-sum"),d=o.data("rating-value");function l(t,e){return e[4<t%100&&t%100<20?2:[2,0,1,1,1,2][t%10<5?t%10:5]]}o.hasClass("disabled")||(o.addClass("disabled process"),t={action:"wpshop_star_rating_submit",nonce:wps_ajax.nonce,post_id:t,score:a,rating_count:s,rating_sum:r,rating_value:d},jQuery.post(wps_ajax.url,t,function(t){var e,n;t.success?(d=((r+=a)/++s).toFixed(2),e="assessment",n=c("html").attr("lang"),"undefined"!=typeof rating_count_text_filter?e=rating_count_text_filter:("ru-RU"===n&&(e=l(s,["оценка","оценки","оценок"])),"uk"===n&&(e=l(s,["оцінка","оцінки","оцінок"]))),i.parent().parent().find(".star-rating-text").html("<em>( <strong>"+s+"</strong> "+e+", "+settings_array.rating_text_average+" <strong>"+d+"</strong> "+settings_array.rating_text_from+" <strong>5</strong> )</em></div>")):(t.data,console.log(t)),o.removeClass("process")}))}),c(".js-star-rating-item").on({mouseenter:function(){c(this).parent().hasClass("disabled")||(c(this).parent().addClass("hover"),c(this).addClass("hover").prevAll().addClass("hover"))},mouseleave:function(){c(this).parent().hasClass("disabled")||(c(this).parent().removeClass("hover"),c(".js-star-rating-item").removeClass("hover"))}}),c(".js-comment-smiles img").on("click",function(){var t=c(this);c("#comment").val(c("#comment").val()+" "+t.prop("alt"))}).on("dragstart",function(t){t.preventDefault()}),d(),c(window).on("resize",function(){d()});var l=c(".js-scrolltop");l.on("click",function(){return c("body,html").animate({scrollTop:0},500)}),c(window).on("scroll",function(){100<c(this).scrollTop()?e<991&&"on"!==l.data("mob")||l.fadeIn():l.fadeOut()})})});